<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width,initial-scale=1.0,maximum-scale=1.0,user-scalable=no,viewport-fit=cover">
    <title>Noel Gift - Hot PhÃ²ng</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; user-select: none; }
        body, html { background: #0b1120; height: 100%; width: 100%; overflow: hidden; font-family: 'Segoe UI', sans-serif; }

        #loading { position: fixed; inset: 0; background: #0b1120; z-index: 9999; display: flex; align-items: center; justify-content: center; transition: opacity 0.8s ease; }
        #loading img { width: 120px; }

        #snow-container { position: fixed; inset: 0; pointer-events: none; z-index: 10; }

        .falling-item { 
            position: absolute; top: -50px; white-space: nowrap; 
            animation: fall linear forwards; 
            transition: color 3s ease, text-shadow 3s ease; 
            color: rgba(255, 255, 255, 0.4);
        }
        
        @keyframes fall { 
            0% { transform: translateY(0) rotate(0deg); opacity: 0; } 
            15% { opacity: var(--max-opacity); } 
            100% { transform: translateY(110vh) rotate(20deg); opacity: 0; } 
        }

        .pink-activated .falling-text {
            color: #FFB6C1 !important; 
            text-shadow: 0 0 10px #FFB6C1, 0 0 20px #fff;
            font-weight: bold;
        }

        .gift-container {
            position: fixed; top: -300px; left: 50%; transform: translateX(-50%);
            z-index: 2000; cursor: pointer; 
            transition: top 3s cubic-bezier(0.25, 1, 0.5, 1);
        }
        .gift-at-center { top: 50% !important; transform: translate(-50%, -50%) !important; }

        .gift-box-body {
            position: relative; width: 100px; height: 85px; background: #d42424;
            border-radius: 5px; box-shadow: 0 15px 35px rgba(0,0,0,0.6);
            animation: swing 3s infinite ease-in-out;
        }
        @keyframes swing { 0%, 100% { transform: rotate(-3deg); } 50% { transform: rotate(3deg); } }
        .gift-box-body::before { content: ''; position: absolute; width: 110px; height: 25px; background: #e74c3c; top: -25px; left: -5px; border-radius: 3px; z-index: 5; transition: 0.5s; }
        .gift-box-body::after { content: ''; position: absolute; width: 20px; height: 100%; background: #ffdb11; left: 50%; transform: translateX(-50%); }

        .letter {
            position: absolute; bottom: 0; left: 50%; transform: translateX(-50%);
            width: 50px; height: 30px; background: #fff; border-radius: 5px;
            transition: all 0.8s cubic-bezier(0.175, 0.885, 0.32, 1.275); opacity: 0; z-index: 2;
            overflow: hidden;
        }
        .open .letter {
            width: 90vw; max-width: 380px; height: 75vh; bottom: 50%; 
            transform: translateX(-50%) translateY(50%);
            opacity: 1; padding: 20px; box-shadow: 0 0 40px rgba(255,255,255,0.2);
            overflow-y: auto;
        }
        .open .gift-box-body::before { transform: translateY(-80px) rotate(-20deg); opacity: 0; }

        .letter-text { display: none; text-align: left; color: #333; font-size: 14px; line-height: 1.6; }
        .open .letter-text { display: block; }
        .letter-header { text-align: center; color: #d42424; font-weight: bold; font-size: 20px; margin-bottom: 20px; border-bottom: 2px solid #f1f1f1; padding-bottom: 10px; }
        .wish-item { margin-bottom: 15px; border-bottom: 1px dotted #eee; padding-bottom: 8px; }
        .name { font-weight: bold; color: #c0392b; }

        .signature { text-align: center; font-weight: bold; font-size: 24px; color: #d42424; margin-top: 30px; text-shadow: 1px 1px 2px rgba(0,0,0,0.1); }
        .close-btn { display: block; width: 140px; margin: 25px auto 10px; padding: 12px; background: #d42424; color: #fff; text-align: center; border-radius: 25px; font-weight: bold; cursor: pointer; box-shadow: 0 4px 15px rgba(212,36,36,0.4); }

        .letter::-webkit-scrollbar { width: 4px; }
        .letter::-webkit-scrollbar-thumb { background: #d42424; border-radius: 10px; }

        .box-disappear { animation: rotateAndAway 1.8s forwards ease-in !important; pointer-events: none; }
        @keyframes rotateAndAway {
            0% { transform: translate(-50%, -50%) rotate(0deg); opacity: 1; }
            100% { transform: translate(-50%, 120vh) rotate(540deg); opacity: 0; }
        }
        #player { position: absolute; width: 0; height: 0; opacity: 0; }
    </style>
</head>
<body>

    <div id="loading"><img src="https://media4.giphy.com/media/0dAMYxFahMEvxW0ese/giphy.gif"></div>
    <div id="snow-container"></div>

    <div id="gift-wrapper" class="gift-container">
        <div class="letter" id="letter-close">
            <div class="letter-text">
                <div class="letter-header">Hot PhÃ²ng ~</div>
                
                <div class="wish-item">Noen vui váº» nha <span class="name">blewiz.12</span>, chÃºc <span class="name">blewiz.12</span> má»™t mÃ¹a GiÃ¡ng sinh luÃ´n tá»a sÃ¡ng, ráº¡ng rá»¡ vÃ  trÃ n Ä‘áº§y niá»m vui! âœ¨</div>
                <div class="wish-item">Noen vui váº» nha <span class="name">emm bÃ© ~</span>, chÃºc <span class="name">emm bÃ© ~</span> luÃ´n giá»¯ trá»n nÃ©t Ä‘Ã¡ng yÃªu, háº¡nh phÃºc vÃ  nháº­n Ä‘Æ°á»£c tháº­t nhiá»u quÃ ! ğŸ§¸</div>
                <div class="wish-item">Noen vui váº» nha <span class="name">thi</span>, chÃºc <span class="name">thi</span> má»™t Ä‘Ãªm lá»… lung linh, xinh Ä‘áº¹p vÃ  má»i Ä‘iá»u Æ°á»›c Ä‘á»u thÃ nh hiá»‡n thá»±c! â„ï¸</div>
                <div class="wish-item">Noen vui váº» nha <span class="name">baolamm ?</span>, chÃºc <span class="name">baolamm ?</span> má»™t mÃ¹a Ä‘Ã´ng áº¥m Ã¡p, bÃ¬nh yÃªn vÃ  váº¡n sá»± Ä‘á»u nhÆ° Ã½! ğŸŒŸ</div>
                <div class="wish-item">Noen vui váº» nha <span class="name">ahh bo ~</span>, chÃºc <span class="name">ahh bo ~</span> luÃ´n vui tÆ°Æ¡i, Ä‘áº¡t Ä‘Æ°á»£c nhiá»u thÃ nh cÃ´ng vÃ  rá»±c rá»¡ Ä‘Ãªm GiÃ¡ng sinh! ğŸ”¥</div>
                <div class="wish-item">Noen vui váº» nha <span class="name">lphuoc hau` 04</span>, chÃºc <span class="name">lphuoc hau` 04</span> Ä‘Ã³n má»™t mÃ¹a lá»… ngáº­p trÃ n tÃ¬nh thÆ°Æ¡ng vÃ  sá»± an lÃ nh! ğŸ„</div>
                <div class="wish-item">Noen vui váº» nha <span class="name">die.4u~06</span>, chÃºc <span class="name">die.4u~06</span> luÃ´n ngá»t ngÃ o, gáº·p nhiá»u may máº¯n vÃ  cÃ³ nhá»¯ng ká»· niá»‡m tháº­t Ä‘áº¹p! ğŸ</div>
                <div class="wish-item">Noen vui váº» nha <span class="name">kieutien</span>, chÃºc <span class="name">kieutien</span> luÃ´n ráº¡ng ngá»i, háº¡nh phÃºc vÃ  nháº­n Ä‘Æ°á»£c nhá»¯ng Ä‘iá»u tuyá»‡t vá»i nháº¥t! ğŸ’–</div>
                <div class="wish-item">Noen vui váº» nha <span class="name">vá»£ nhiğŸ˜‹</span>, chÃºc <span class="name">vá»£ nhiğŸ˜‹</span> luÃ´n lÃ  ngÆ°á»i háº¡nh phÃºc nháº¥t, mÃ£i xinh Ä‘áº¹p vÃ  áº¥m Ã¡p Ä‘Ãªm Noel! ğŸ¬</div>
                <div class="wish-item">Noen vui váº» nha <span class="name">luve.hurts_</span>, chÃºc <span class="name">luve.hurts_</span> luÃ´n bÃ¬nh yÃªn, gáº¡t bá» muá»™n phiá»n vÃ  Ä‘Ã³n nháº­n hÆ¡i áº¥m an lÃ nh! ğŸŒˆ</div>
                <div class="wish-item">Noen vui váº» nha <span class="name">th van ~</span>, chÃºc <span class="name">th van ~</span> luÃ´n may máº¯n, tráº» trung vÃ  hÆ°á»Ÿng trá»n khÃ´ng khÃ­ Noel vui váº»! ğŸˆ</div>
                <div class="wish-item">Noen vui váº» nha <span class="name">ph thuy ~</span>, chÃºc <span class="name">ph thuy ~</span> luÃ´n ráº¡ng rá»¡, thÃ nh Ä‘áº¡t vÃ  cÃ³ má»™t mÃ¹a lá»… há»™i Ä‘Ã¡ng nhá»›! ğŸŒ¸</div>
                <div class="wish-item">Noen vui váº» nha <span class="name">Tuáº¥n anhh~</span>, chÃºc <span class="name">Tuáº¥n anhh~</span> luÃ´n máº¡nh máº½, vui tÆ°Æ¡i vÃ  cÃ³ má»™t Ä‘Ãªm Noel tháº­t Ã½ nghÄ©a! âš¡</div>
                <div class="wish-item">Noen vui váº» nha <span class="name">tÃ­n mÃ¬gÃ³i</span>, chÃºc <span class="name">tÃ­n mÃ¬gÃ³i</span> luÃ´n láº¡c quan, khá»e máº¡nh vÃ  Ä‘Ã³n GiÃ¡ng sinh tháº­t áº¥m bá»¥ng áº¥m lÃ²ng! ğŸœ</div>
                <div class="wish-item">Noen vui váº» nha <span class="name">buon !</span>, chÃºc <span class="name">buon !</span> xua tan muá»™n phiá»n, Ä‘Ã³n nháº­n tÃ¬nh yÃªu thÆ°Æ¡ng vÃ  sá»± an lÃ nh! ğŸ•¯ï¸</div>
                <div class="wish-item">Noen vui váº» nha <span class="name">ná»• hÅ© náº¡pff</span>, chÃºc <span class="name">ná»• hÅ© náº¡pff</span> náº¡p Ä‘Ã¢u trÃºng Ä‘Ã³, may máº¯n Ä‘áº§y mÃ¬nh vÃ  hÆ°á»Ÿng Noel tháº­t hÃªn! ğŸ°</div>
                <div class="wish-item">Noen vui váº» nha <span class="name">emm ngá»cc ~</span>, chÃºc <span class="name">emm ngá»cc ~</span> luÃ´n tá»a sÃ¡ng, trÃ¢n quÃ½ má»i khoáº£nh kháº¯c Ä‘Ãªm GiÃ¡ng sinh! ğŸ’</div>
                <div class="wish-item">Noen vui váº» nha <span class="name">hiru No1 09</span>, chÃºc <span class="name">hiru No1 09</span> giá»¯ vá»¯ng phong Ä‘á»™, dáº«n Ä‘áº§u niá»m vui vÃ  Ä‘Ã³n Noel rá»±c rá»¡! ğŸ†</div>
                <div class="wish-item">Noen vui váº» nha <span class="name">em ni (cqd)</span>, chÃºc <span class="name">em ni (cqd)</span> luÃ´n xinh xáº¯n, bÃ¬nh yÃªn vÃ  Ä‘Ã³n mÃ¹a GiÃ¡ng sinh áº¥m Ã¡p nháº¥t! ğŸ€</div>

                <div class="signature">BY HOT PHÃ’NG ~</div>
                
                <div class="close-btn" onclick="toggleGift(event)">ÄÃ“NG THÆ¯</div>
            </div>
        </div>
        <div class="gift-box-body" id="target-box" onclick="toggleGift(event)"></div>
    </div>

    <div id="player"></div>

    <script>
        let isOpened = false;
        let spawnInterval = null;
        let currentRate = 120; 
        let player;

        var tag = document.createElement('script');
        tag.src = "https://www.youtube.com/iframe_api";
        var firstScriptTag = document.getElementsByTagName('script')[0];
        firstScriptTag.parentNode.insertBefore(tag, firstScriptTag);

        function onYouTubeIframeAPIReady() {
            player = new YT.Player('player', {
                height: '0', width: '0',
                videoId: 'Kw3EVHS_tfI',
                playerVars: { 'autoplay': 0, 'controls': 0, 'loop': 1, 'playlist': 'Kw3EVHS_tfI' },
            });
        }

        window.addEventListener('load', () => {
            setTimeout(() => {
                document.getElementById('loading').style.opacity = '0';
                setTimeout(() => { 
                    document.getElementById('loading').style.display = 'none'; 
                    setTimeout(() => {
                        document.getElementById('gift-wrapper').classList.add('gift-at-center');
                    }, 5000);
                }, 800);
            }, 1000);
            startFalling();
        });

        function toggleGift(e) {
            if (e) e.stopPropagation();
            if (player && player.playVideo) player.playVideo();
            
            const wrapper = document.getElementById('gift-wrapper');
            if (!isOpened) {
                wrapper.classList.add('open');
                isOpened = true;
            } else {
                wrapper.classList.remove('open');
                setTimeout(() => {
                    wrapper.classList.add('box-disappear');
                    updateSpawnRate(60); 
                    setTimeout(() => {
                        document.body.classList.add('pink-activated');
                    }, 2000); 
                }, 600);
            }
        }

        function createFallingObject() {
            const container = document.getElementById('snow-container');
            const item = document.createElement('div');
            item.className = 'falling-item';
            const rand = Math.random();
            let maxOpacity = 0.5;
            const isPink = document.body.classList.contains('pink-activated');

            if (rand < 0.45) { 
                item.innerText = 'hot phÃ²ng ~';
                item.classList.add('falling-text');
                item.style.fontSize = (Math.random() * 4 + 11) + 'px';
                maxOpacity = 0.8;
            } else if (rand < 0.8) { 
                const img = document.createElement('img');
                img.src = 'https://media2.giphy.com/media/GkOGd5X6gdP1tfF4zx/giphy.gif';
                img.style.width = isPink ? '20px' : '15px'; 
                item.appendChild(img);
                maxOpacity = 1;
            } else { 
                item.innerHTML = 'â„';
                item.style.color = isPink ? 'rgba(255, 182, 193, 0.7)' : 'rgba(255, 255, 255, 0.6)';
            }
            
            item.style.setProperty('--max-opacity', maxOpacity);
            item.style.left = Math.random() * 100 + 'vw';
            const duration = isPink ? (Math.random() * 3 + 3) : (Math.random() * 5 + 6);
            item.style.animationDuration = duration + 's';
            container.appendChild(item);
            setTimeout(() => { item.remove(); }, duration * 1000);
        }

        function startFalling() { spawnInterval = setInterval(createFallingObject, currentRate); }
        function updateSpawnRate(newRate) {
            clearInterval(spawnInterval);
            currentRate = newRate;
            spawnInterval = setInterval(createFallingObject, currentRate);
        }
        document.addEventListener('contextmenu', e => e.preventDefault());
    </script>
</body>
</html>
